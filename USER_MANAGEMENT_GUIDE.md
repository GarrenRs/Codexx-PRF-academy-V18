# توثيق نظام إدارة المستخدمين الاحترافي - Codexx Academy

## نظرة عامة
تم تصميم هذا النظام لتمكين مسؤولي المنصة من إنشاء وإدارة حسابات المستخدمين بشكل آمن وفعال مباشرة من لوحة الإدارة، مع ضمان عزل البيانات (Multi-tenancy) وتطبيق معايير أمنية عالية.

## نقاط القوة والمعايير الأمنية
1. **التحقق من الصلاحيات (RBAC):** لا يمكن الوصول لمسارات إنشاء المستخدمين إلا للمسؤولين (Admins) المسجلين في قاعدة البيانات.
2. **تشفير كلمات المرور:** يتم استخدام خوارزمية `pbkdf2:sha256` لتشفير كلمات المرور قبل تخزينها، مما يضمن استحالة قراءتها حتى في حال الوصول لقاعدة البيانات.
3. **عزل البيانات (Workspace Isolation):** يتم ربط كل مستخدم جديد ببيئة عمل (Workspace) فريدة، مما يضمن عدم تداخل المشاريع والبيانات بين المستخدمين.
4. **تكامل لوحة الإدارة:** تم نقل نموذج التسجيل العام إلى داخل لوحة الإدارة ليكون تحت رقابة المسؤول، مع إمكانية تحديد حالة الحساب (Demo/Full Access) فور الإنشاء.
5. **التحقق من البيانات:** يتم التحقق من فرادة البريد الإلكتروني واسم المستخدم قبل الإضافة لمنع تكرار الحسابات.

## خطوات التنفيذ المقترحة
1. **تحديث الواجهة (UI):** إضافة "Modal" احترافي في صفحة `dashboard/users.html` يحتوي على حقول (اسم المستخدم، البريد، كلمة المرور).
2. **منطق الخلفية (Backend Logic):**
   - إنشاء مسار `POST /dashboard/users/create`.
   - استخدام `generate_password_hash` لتأمين الحساب.
   - إنشاء سجل في جدول `User` وربطه بالـ `Workspace` الافتراضي.
3. **الربط مع قاعدة البيانات:** استخدام جلسات `SQLAlchemy` لضمان تنفيذ العملية بشكل ذري (Atomic) - إما نجاح كامل أو فشل كامل.

## التوصيات الفنية
- استخدام `Flask-WTF` لإضافة طبقة حماية ضد هجمات CSRF في نماذج الإدخال.
- تفعيل نظام "Logs" لتسجيل عمليات إنشاء الحسابات (من قام بإنشاء ماذا ومتى).
